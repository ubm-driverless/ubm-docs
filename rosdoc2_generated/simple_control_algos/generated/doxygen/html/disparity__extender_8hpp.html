<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>simple_control_algos: include/disparity_extender.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">simple_control_algos
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
   <div id="projectbrief">Package for simple control algorithms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">disparity_extender.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the declarations for the disparity extender reactive algorithm. The algorithm is based on the article "The "Disparity Extender" Algorithm, and F1/Tenth" available at <a href="https://www.nathanotterness.com/2019/04/the-disparity-extender-algorithm-and.html">https://www.nathanotterness.com/2019/04/the-disparity-extender-algorithm-and.html</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="utils_8hpp.html">utils.hpp</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;stdexcept&gt;</code><br />
<code>#include &lt;tuple&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for disparity_extender.hpp:</div>
<div class="dyncontent">
<div class="center"><img src="disparity__extender_8hpp__incl.png" border="0" usemap="#include_2disparity__extender_8hpp" alt=""/></div>
<map name="include_2disparity__extender_8hpp" id="include_2disparity__extender_8hpp">
<area shape="rect" title="This file contains the declarations for the disparity extender reactive algorithm...." alt="" coords="258,5,481,32"/>
<area shape="rect" href="utils_8hpp.html" title="Utility functions for mathematical calculations and basic operations." alt="" coords="291,80,370,107"/>
<area shape="rect" title=" " alt="" coords="5,155,91,181"/>
<area shape="rect" title=" " alt="" coords="115,155,178,181"/>
<area shape="rect" title=" " alt="" coords="386,155,473,181"/>
<area shape="rect" title=" " alt="" coords="497,155,551,181"/>
<area shape="rect" title=" " alt="" coords="575,155,638,181"/>
<area shape="rect" title=" " alt="" coords="287,155,361,181"/>
<area shape="rect" title=" " alt="" coords="202,155,262,181"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="disparity__extender_8hpp__dep__incl.png" border="0" usemap="#include_2disparity__extender_8hppdep" alt=""/></div>
<map name="include_2disparity__extender_8hppdep" id="include_2disparity__extender_8hppdep">
<area shape="rect" title="This file contains the declarations for the disparity extender reactive algorithm...." alt="" coords="5,5,228,32"/>
<area shape="rect" href="disparity__extender__node_8hpp.html" title="This file contains the declaration of the DisparityExtenderNode class, which is a ROS2 node responsib..." alt="" coords="19,80,214,121"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a291ed5db3ed90572f2fa73268d730fc3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="disparity__extender_8hpp.html#a291ed5db3ed90572f2fa73268d730fc3">check_imminent_crash</a> (std::vector&lt; float &gt; ranges, float lidar_fov, float angle_increment, float desired_fov, float crash_distance)</td></tr>
<tr class="memdesc:a291ed5db3ed90572f2fa73268d730fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the car is too close to the wall/obstacle at the sides of the car. If so, the lidar data processing will be skipped.  <a href="disparity__extender_8hpp.html#a291ed5db3ed90572f2fa73268d730fc3">More...</a><br /></td></tr>
<tr class="separator:a291ed5db3ed90572f2fa73268d730fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ad9538c20847b48c0ceba8c62c0b69f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="disparity__extender_8hpp.html#a4ad9538c20847b48c0ceba8c62c0b69f">find_disparities</a> (std::vector&lt; float &gt; ranges, std::vector&lt; float &gt; &amp;processed_ranges, float car_width, float max_range, float angle_increment, float lidar_fov, float desired_fov, float disparity_thrashold, float r_multiplier)</td></tr>
<tr class="memdesc:a4ad9538c20847b48c0ceba8c62c0b69f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes LIDAR range data to extend disparities and clip ranges.  <a href="disparity__extender_8hpp.html#a4ad9538c20847b48c0ceba8c62c0b69f">More...</a><br /></td></tr>
<tr class="separator:a4ad9538c20847b48c0ceba8c62c0b69f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29c2ded4d0f27a2a43d5ad06dbf11200"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="disparity__extender_8hpp.html#a29c2ded4d0f27a2a43d5ad06dbf11200">find_disparity_steering_angle</a> (std::vector&lt; float &gt; processed_ranges, float angle_increment, float lidar_fov, float desired_fov, float angle_eq_thr, float ray_eq_thr, bool ignore_angle_eq_thr, bool ignore_ray_eq_thr, std::string angle_priority)</td></tr>
<tr class="memdesc:a29c2ded4d0f27a2a43d5ad06dbf11200"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the steering angle that corresponds to the maximum distance in the processed ranges vector.  <a href="disparity__extender_8hpp.html#a29c2ded4d0f27a2a43d5ad06dbf11200">More...</a><br /></td></tr>
<tr class="separator:a29c2ded4d0f27a2a43d5ad06dbf11200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ce1c1cbfc59821940f236e0bc3e974"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="disparity__extender_8hpp.html#a62ce1c1cbfc59821940f236e0bc3e974">disparity_extender_steering</a> (std::vector&lt; float &gt; ranges, std::vector&lt; float &gt; &amp;processed_ranges, float angle_increment, float lidar_fov, float desired_fov, float disparity_thrashold, float angle_eq_thr, float ray_eq_thr, float car_width, float max_range, float r_multiplier, float max_steering_angle, bool ignore_angle_eq_thr, bool ignore_ray_eq_thr, std::string angle_priority)</td></tr>
<tr class="memdesc:a62ce1c1cbfc59821940f236e0bc3e974"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the steering angle based on disparity extender algorithm.  <a href="disparity__extender_8hpp.html#a62ce1c1cbfc59821940f236e0bc3e974">More...</a><br /></td></tr>
<tr class="separator:a62ce1c1cbfc59821940f236e0bc3e974"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the declarations for the disparity extender reactive algorithm. The algorithm is based on the article "The "Disparity Extender" Algorithm, and F1/Tenth" available at <a href="https://www.nathanotterness.com/2019/04/the-disparity-extender-algorithm-and.html">https://www.nathanotterness.com/2019/04/the-disparity-extender-algorithm-and.html</a>. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a291ed5db3ed90572f2fa73268d730fc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a291ed5db3ed90572f2fa73268d730fc3">&#9670;&nbsp;</a></span>check_imminent_crash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool check_imminent_crash </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; float &gt;&#160;</td>
          <td class="paramname"><em>ranges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>lidar_fov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>angle_increment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>desired_fov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>crash_distance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the car is too close to the wall/obstacle at the sides of the car. If so, the lidar data processing will be skipped. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ranges</td><td>the lidar ranges vector </td></tr>
    <tr><td class="paramname">lidar_fov</td><td>field of view of the lidar [rad] </td></tr>
    <tr><td class="paramname">angle_increment</td><td>angle increment of the lidar [rad] </td></tr>
    <tr><td class="paramname">desired_fov</td><td>desired field of view for processing [rad] </td></tr>
    <tr><td class="paramname">crash_distance</td><td>distance threshold to consider a crash [m] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the car is not too close to the wall/obstacle at the sides of the car; false otherwise </dd></dl>

</div>
</div>
<a id="a62ce1c1cbfc59821940f236e0bc3e974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62ce1c1cbfc59821940f236e0bc3e974">&#9670;&nbsp;</a></span>disparity_extender_steering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float disparity_extender_steering </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; float &gt;&#160;</td>
          <td class="paramname"><em>ranges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>processed_ranges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>angle_increment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>lidar_fov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>desired_fov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>disparity_thrashold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>angle_eq_thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>ray_eq_thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>car_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>r_multiplier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_steering_angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignore_angle_eq_thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignore_ray_eq_thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>angle_priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the steering angle based on disparity extender algorithm. </p>
<p>This function calculates the steering angle required to avoid obstacles detected by a LIDAR sensor using the disparity extender algorithm.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ranges</td><td>A vector of float values representing the distances measured by the LIDAR sensor. </td></tr>
    <tr><td class="paramname">angle_increment</td><td>The angular increment between consecutive LIDAR measurements [rad]. </td></tr>
    <tr><td class="paramname">lidar_fov</td><td>The field of view of the LIDAR sensor [rad]. </td></tr>
    <tr><td class="paramname">desired_fov</td><td>The desired field of view for the disparity extender algorithm [deg]. </td></tr>
    <tr><td class="paramname">disparity_thrashold</td><td>The threshold for detecting disparities in the LIDAR measurements. </td></tr>
    <tr><td class="paramname">angle_eq_thr</td><td>The threshold for angle equality check. </td></tr>
    <tr><td class="paramname">ray_eq_thr</td><td>The threshold for ray equality check. </td></tr>
    <tr><td class="paramname">car_width</td><td>The width of the car. </td></tr>
    <tr><td class="paramname">max_range</td><td>The maximum range of the LIDAR sensor. </td></tr>
    <tr><td class="paramname">r_multiplier</td><td>The multiplier for the range values. </td></tr>
    <tr><td class="paramname">ignore_angle_eq_thr</td><td>Flag to ignore angle equality threshold. </td></tr>
    <tr><td class="paramname">ignore_ray_eq_thr</td><td>Flag to ignore ray equality threshold. </td></tr>
    <tr><td class="paramname">angle_priority</td><td>The priority for angle selection ("left" or "right"). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The computed steering angle. </dd></dl>

</div>
</div>
<a id="a4ad9538c20847b48c0ceba8c62c0b69f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ad9538c20847b48c0ceba8c62c0b69f">&#9670;&nbsp;</a></span>find_disparities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void find_disparities </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; float &gt;&#160;</td>
          <td class="paramname"><em>ranges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>processed_ranges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>car_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>angle_increment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>lidar_fov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>desired_fov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>disparity_thrashold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>r_multiplier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes LIDAR range data to extend disparities and clip ranges. </p>
<p>This function processes raw LIDAR range data to extend disparities and clip the ranges to a maximum value. It identifies disparities in the range data and extends them. Find the disparities such that the absolute value of the difference between two subsequent rays is greater than disparity_thrashold. For every disparity, calculate the angle <code>theta</code> corresponding to the number of lidar radius to be leveled <code>R</code>. Then, choose the minimum between the two rays that generated the disparity and level <code>R</code> rays starting from the minimum one and going in the opposite direction of the maximum one.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ranges</td><td>A vector of raw LIDAR range data. </td></tr>
    <tr><td class="paramname">processed_ranges</td><td>A reference to a vector where the processed range data will be stored. </td></tr>
    <tr><td class="paramname">car_width</td><td>The width of the car. </td></tr>
    <tr><td class="paramname">max_range</td><td>The maximum range value to clip the LIDAR data. </td></tr>
    <tr><td class="paramname">angle_increment</td><td>The angular increment between consecutive LIDAR measurements. </td></tr>
    <tr><td class="paramname">lidar_fov</td><td>The field of view of the LIDAR sensor. </td></tr>
    <tr><td class="paramname">desired_fov</td><td>The desired field of view to process. </td></tr>
    <tr><td class="paramname">disparity_thrashold</td><td>The threshold to identify disparities in the range data. </td></tr>
    <tr><td class="paramname">r_multiplier</td><td>A multiplier to extend the number of rays to cut.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if the calculated angle <code>theta</code> is negative. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a29c2ded4d0f27a2a43d5ad06dbf11200"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29c2ded4d0f27a2a43d5ad06dbf11200">&#9670;&nbsp;</a></span>find_disparity_steering_angle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float find_disparity_steering_angle </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; float &gt;&#160;</td>
          <td class="paramname"><em>processed_ranges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>angle_increment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>lidar_fov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>desired_fov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>angle_eq_thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>ray_eq_thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignore_angle_eq_thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignore_ray_eq_thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>angle_priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the steering angle that corresponds to the maximum distance in the processed ranges vector. </p>
<p>This function identifies the best steering angle by analyzing the processed ranges from a LIDAR sensor. It considers multiple criteria such as angle priority, ray equality thresholds, and angle equality thresholds. The function can ignore certain thresholds based on the provided parameters.</p>
<p>This function keeps track of the best rays by storing their indexes in the vector <code>best_indexes</code>. During the search, if a new maximum distance is found, the vector is updated and reordered. In addition, the rays that have <code>distance_from_max_ray</code> greater than <code>ray_eq_thr</code> are removed from the vector.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">processed_ranges</td><td>The processed ranges vector from the LIDAR sensor. </td></tr>
    <tr><td class="paramname">angle_increment</td><td>The angle increment of the LIDAR in radians. </td></tr>
    <tr><td class="paramname">lidar_fov</td><td>The field of view of the LIDAR in radians. </td></tr>
    <tr><td class="paramname">desired_fov</td><td>The desired field of view to consider in radians. </td></tr>
    <tr><td class="paramname">disparity_thrashold</td><td>The threshold for disparity (not used in the current implementation). </td></tr>
    <tr><td class="paramname">angle_eq_thr</td><td>The threshold for considering two angles as equal. </td></tr>
    <tr><td class="paramname">ray_eq_thr</td><td>The threshold for considering two rays as equal. </td></tr>
    <tr><td class="paramname">ignore_angle_eq_thr</td><td>Flag to ignore the angle equality threshold. </td></tr>
    <tr><td class="paramname">ignore_ray_eq_thr</td><td>Flag to ignore the ray equality threshold. </td></tr>
    <tr><td class="paramname">angle_priority</td><td>The priority direction ("left" or "right") when choosing between equal distances. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The steering angle that corresponds to the maximum distance in the processed ranges vector in radians. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
